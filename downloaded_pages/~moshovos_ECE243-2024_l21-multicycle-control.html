<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:st1="urn:schemas-microsoft-com:office:smarttags"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1253">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 11">
<meta name=Originator content="Microsoft Word 11">
<link rel=File-List href="l21-multicycle-control_files/filelist.xml">
<link rel=Edit-Time-Data href="l21-multicycle-control_files/editdata.mso">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]--><o:SmartTagType
 namespaceuri="urn:schemas-microsoft-com:office:smarttags" name="City"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="PlaceType"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="PlaceName"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="place"/>
<!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:Zoom>FullPage</w:Zoom>
  <w:SpellingState>Clean</w:SpellingState>
  <w:GrammarState>Clean</w:GrammarState>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" LatentStyleCount="156">
 </w:LatentStyles>
</xml><![endif]--><!--[if !mso]><object
 classid="clsid:38481807-CA0E-42D2-BF39-B33AF135CC4D" id=ieooui></object>
<style>
st1\:*{behavior:url(#ieooui) }
</style>
<![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;
	mso-font-charset:2;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:0 268435456 0 0 -2147483648 0;}
@font-face
	{font-family:Batang;
	panose-1:2 3 6 0 0 1 1 1 1 1;
	mso-font-alt:\00B9\00D9\00C5\00C1;
	mso-font-charset:129;
	mso-generic-font-family:auto;
	mso-font-format:other;
	mso-font-pitch:fixed;
	mso-font-signature:1 151388160 16 0 524288 0;}
@font-face
	{font-family:"\@Batang";
	panose-1:0 0 0 0 0 0 0 0 0 0;
	mso-font-charset:129;
	mso-generic-font-family:auto;
	mso-font-format:other;
	mso-font-pitch:fixed;
	mso-font-signature:1 151388160 16 0 524288 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0pt;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:Batang;}
p.MsoPlainText, li.MsoPlainText, div.MsoPlainText
	{margin:0pt;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Courier New";
	mso-fareast-font-family:Batang;}
span.SpellE
	{mso-style-name:"";
	mso-spl-e:yes;}
span.GramE
	{mso-style-name:"";
	mso-gram-e:yes;}
@page Section1
	{size:792.0pt 612.0pt;
	mso-page-orientation:landscape;
	margin:66.25pt 72.0pt 66.25pt 72.0pt;
	mso-header-margin:36.0pt;
	mso-footer-margin:36.0pt;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0pt 5.4pt 0pt 5.4pt;
	mso-para-margin:0pt;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ansi-language:#0400;
	mso-fareast-language:#0400;
	mso-bidi-language:#0400;}
table.MsoTableGrid
	{mso-style-name:"Table Grid";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	border:solid windowtext 1.0pt;
	mso-border-alt:solid windowtext .5pt;
	mso-padding-alt:0pt 5.4pt 0pt 5.4pt;
	mso-border-insideh:.5pt solid windowtext;
	mso-border-insidev:.5pt solid windowtext;
	mso-para-margin:0pt;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ansi-language:#0400;
	mso-fareast-language:#0400;
	mso-bidi-language:#0400;}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="8194"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=EN-US style='tab-interval:36.0pt'>

<div class=Section1>

<p class=MsoPlainText>Computer Organization</p>

<p class=MsoPlainText>Multi-Cycle Implementation: The Control Unit</p>

<p class=MsoPlainText>Andreas <span class=SpellE>Moshovos</span></p>

<p class=MsoPlainText>Spring 2005</p>

<p class=MsoPlainText><o:p>&nbsp;</o:p></p>

<p class=MsoPlainText><o:p>&nbsp;</o:p></p>

<p class=MsoPlainText>In the previous lecture we have explained the <span
class=SpellE>datapath</span> of the multi-cycle implementation. Here we present
the design methodology and the design for the control unit.</p>

<p class=MsoPlainText>For the single-cycle implementation the control was a
combinatorial circuit. For the multi-cycle implementation the control is no
longer a combinatorial circuit, it’s a finite state machine.</p>

<p class=MsoPlainText>Here’s why: It takes multiple cycles to execute an
instruction. During each cycle different actions will have to take place. The
actions depend not only on the instruction but on which cycle this is. So, for
an ADD different things happen depending on whether we are at cycle 2 or 3.
Accordingly, a circuit that can keep track of which cycle we are in is
necessary.</p>

<p class=MsoPlainText><o:p>&nbsp;</o:p></p>

<p class=MsoPlainText>To design the control we start by producing a table that
lists all the actions that need to take place per cycle and per instruction:</p>

<p class=MsoPlainText><o:p>&nbsp;</o:p></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0 width=907
 style='width:680.15pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:480;mso-padding-alt:0pt 5.4pt 0pt 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=49 valign=top style='width:37.05pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'>CYCLE<o:p></o:p></span></p>
  </td>
  <td width=857 colspan=8 valign=top style='width:643.1pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:8.0pt'>Instruction
  Class<o:p></o:p></span></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=49 valign=top style='width:37.05pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=94 valign=top style='width:70.55pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:8.0pt'>ADD, SUB,
  NAND<o:p></o:p></span></b></p>
  </td>
  <td width=90 valign=top style='width:67.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:8.0pt'>SHIFT<o:p></o:p></span></b></p>
  </td>
  <td width=114 valign=top style='width:85.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:8.0pt'>ORI<o:p></o:p></span></b></p>
  </td>
  <td width=156 valign=top style='width:117.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:8.0pt'>LOAD<o:p></o:p></span></b></p>
  </td>
  <td width=120 valign=top style='width:89.8pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:8.0pt'>STORE<o:p></o:p></span></b></p>
  </td>
  <td width=108 valign=top style='width:81.2pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:8.0pt'>BPZ<o:p></o:p></span></b></p>
  </td>
  <td width=84 valign=top style='width:63.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:8.0pt'>BZ<o:p></o:p></span></b></p>
  </td>
  <td width=91 valign=top style='width:68.55pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:8.0pt'>BNZ<o:p></o:p></span></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=49 valign=top style='width:37.05pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'>1<o:p></o:p></span></p>
  </td>
  <td width=857 colspan=8 valign=top style='width:643.1pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'>[IR] = <span class=SpellE>Mem</span>[ [PC] ]<o:p></o:p></span></p>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'>[PC] = [PC] + 1<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=49 valign=top style='width:37.05pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'>2<o:p></o:p></span></p>
  </td>
  <td width=857 colspan=8 valign=top style='width:643.1pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'>[R1] = <span class=GramE>RF[</span> [IR7..6] ]<o:p></o:p></span></p>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'>[R2] = <span class=GramE>RF[</span> [IR5..4] ]<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=49 valign=top style='width:37.05pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'>3<o:p></o:p></span></p>
  </td>
  <td width=94 valign=top style='width:70.55pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'>[<span class=SpellE>ALUout</span>] = [R1] op [R2]<o:p></o:p></span></p>
  </td>
  <td width=90 valign=top style='width:67.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'>[<span class=SpellE>ALUout</span>] = [R1] shift Imm3<o:p></o:p></span></p>
  </td>
  <td width=114 valign=top style='width:85.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'>[R1] = RF [1]<o:p></o:p></span></p>
  </td>
  <td width=156 valign=top style='width:117.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'>[MDR] = <span class=SpellE>Mem</span>[ [R2] ]<o:p></o:p></span></p>
  </td>
  <td width=120 valign=top style='width:89.8pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'>MEM[[R2] = [R1]<o:p></o:p></span></p>
  </td>
  <td width=108 valign=top style='width:81.2pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'>if (N’)<o:p></o:p></span></p>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'>PC = PC + SE(Imm4)<o:p></o:p></span></p>
  </td>
  <td width=84 valign=top style='width:63.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'>if (Z)<o:p></o:p></span></p>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'>PC = PC + SE(Imm4)<o:p></o:p></span></p>
  </td>
  <td width=91 valign=top style='width:68.55pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'>if (‘Z)<o:p></o:p></span></p>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'>PC = PC + SE(Imm4)<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5'>
  <td width=49 valign=top style='width:37.05pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'>4<o:p></o:p></span></p>
  </td>
  <td width=184 colspan=2 valign=top style='width:138.05pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><span
  class=GramE><span style='font-size:8.0pt'>RF[</span></span><span
  style='font-size:8.0pt'> [IR7..6] ] = [<span class=SpellE>ALUout</span>]<o:p></o:p></span></p>
  </td>
  <td width=114 valign=top style='width:85.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'>[<span class=SpellE>ALUout</span>] = [R1] OR Imm5<o:p></o:p></span></p>
  </td>
  <td width=156 valign=top style='width:117.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><span
  class=GramE><span style='font-size:8.0pt'>RF[</span></span><span
  style='font-size:8.0pt'>[IR7..6]] = [MDR]<o:p></o:p></span></p>
  </td>
  <td width=120 valign=top style='width:89.8pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=108 valign=top style='width:81.2pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=84 valign=top style='width:63.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=91 valign=top style='width:68.55pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:6;mso-yfti-lastrow:yes'>
  <td width=49 valign=top style='width:37.05pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'>5<o:p></o:p></span></p>
  </td>
  <td width=94 valign=top style='width:70.55pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=90 valign=top style='width:67.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=114 valign=top style='width:85.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'>RF[ 1 ] = [<span class=SpellE>ALUout</span>]<o:p></o:p></span></p>
  </td>
  <td width=156 valign=top style='width:117.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=120 valign=top style='width:89.8pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=108 valign=top style='width:81.2pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=84 valign=top style='width:63.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=91 valign=top style='width:68.55pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoPlainText><o:p>&nbsp;</o:p></p>

<p class=MsoPlainText style='text-align:justify'>We now use this table as guide
in constructing the state diagram for the control finite state machine:</p>

<p class=MsoPlainText><o:p>&nbsp;</o:p></p>

<p class=MsoPlainText><!--[if gte vml 1]><v:shapetype id="_x0000_t75"
 coordsize="21600,21600" o:spt="75" o:preferrelative="t" path="m@4@5l@4@11@9@11@9@5xe"
 filled="f" stroked="f">
 <v:stroke joinstyle="miter"/>
 <v:formulas>
  <v:f eqn="if lineDrawn pixelLineWidth 0"/>
  <v:f eqn="sum @0 1 0"/>
  <v:f eqn="sum 0 0 @1"/>
  <v:f eqn="prod @2 1 2"/>
  <v:f eqn="prod @3 21600 pixelWidth"/>
  <v:f eqn="prod @3 21600 pixelHeight"/>
  <v:f eqn="sum @0 0 1"/>
  <v:f eqn="prod @6 1 2"/>
  <v:f eqn="prod @7 21600 pixelWidth"/>
  <v:f eqn="sum @8 21600 0"/>
  <v:f eqn="prod @7 21600 pixelHeight"/>
  <v:f eqn="sum @10 21600 0"/>
 </v:formulas>
 <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"/>
 <o:lock v:ext="edit" aspectratio="t"/>
</v:shapetype><v:shape id="_x0000_i1025" type="#_x0000_t75" style='width:607.5pt;
 height:397.5pt'>
 <v:imagedata src="l21-multicycle-control_files/image001.gif" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=810 height=530
src="l21-multicycle-control_files/image001.gif" v:shapes="_x0000_i1025"><![endif]></p>

<p class=MsoPlainText style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoPlainText>Instruction execution starts at state “cycle1”, this
where we will be fetching the instruction <span class=SpellE>opcode</span> from
memory.</p>

<p class=MsoPlainText style='text-align:justify'>In the next state “cycle2” we
read from the register file and also have the control decode the instruction.</p>

<p class=MsoPlainText style='text-align:justify'>Past state “cycle2” different
actions take place depending on the instruction <span class=SpellE>opcode</span>.
The labels on top of the arrows refer to different instructions. At the
physical level these are the values on the IR bits 0 through 3. These four bits
hold the instruction <span class=SpellE>opcode</span> (e.g., 0000 for load,
0100 for add and so on).</p>

<p class=MsoPlainText style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoPlainText style='text-align:justify'>Note that we were able to
merge the state for cycle 4 for instructions ADD, SUB, NAND and SHIFT since
they all perform the same action at that cycle. This is an optimization.</p>

<p class=MsoPlainText style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoPlainText style='text-align:justify'>So we have the beginnings of a
control finite state machine. The next step is determining what values the
various <span class=SpellE>datapath</span> control signals (like <span
class=SpellE>RegWrite</span>) should take at each state.</p>

<p class=MsoPlainText style='text-align:justify'>Given an understanding of the <span
class=SpellE>datapath</span> and of the actions that need to take place at each
state this process is straightforward. Let’s start by determining what values
the control signals should take at each state:</p>

<p class=MsoPlainText style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoPlainText style='text-align:justify'><b style='mso-bidi-font-weight:
normal'><span style='font-size:12.0pt'>“CYCLE1”: </span></b><span
style='font-size:12.0pt'>Fetching an instruction and incrementing the PC (row
“cycle1” in the aforementioned table)<o:p></o:p></span></p>

<p class=MsoPlainText style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoPlainText style='text-align:justify'>We have determined before that
the following actions take place during this state:</p>

<p class=MsoPlainText style='text-align:justify'><o:p>&nbsp;</o:p></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0 width=853
 style='width:639.65pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:480;mso-padding-alt:0pt 5.4pt 0pt 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=59 valign=top style='width:44.6pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'>CYCLE<o:p></o:p></span></p>
  </td>
  <td width=793 colspan=8 valign=top style='width:595.05pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:8.0pt'>Instruction
  Class<o:p></o:p></span></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=59 valign=top style='width:44.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=138 valign=top style='width:103.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:8.0pt'>ADD, SUB,
  NAND<o:p></o:p></span></b></p>
  </td>
  <td width=96 valign=top style='width:72.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:8.0pt'>SHIFT<o:p></o:p></span></b></p>
  </td>
  <td width=102 valign=top style='width:76.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:8.0pt'>ORI<o:p></o:p></span></b></p>
  </td>
  <td width=78 valign=top style='width:58.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:8.0pt'>LOAD<o:p></o:p></span></b></p>
  </td>
  <td width=120 valign=top style='width:89.8pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:8.0pt'>STORE<o:p></o:p></span></b></p>
  </td>
  <td width=96 valign=top style='width:72.2pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:8.0pt'>BP<o:p></o:p></span></b></p>
  </td>
  <td width=72 valign=top style='width:54.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:8.0pt'>BZ<o:p></o:p></span></b></p>
  </td>
  <td width=91 valign=top style='width:68.55pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:8.0pt'>BNZ<o:p></o:p></span></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2;mso-yfti-lastrow:yes'>
  <td width=59 valign=top style='width:44.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'>1<o:p></o:p></span></p>
  </td>
  <td width=793 colspan=8 valign=top style='width:595.05pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'>[IR] = <span class=SpellE>Mem</span>[ [PC] ]<o:p></o:p></span></p>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'>[PC] = [PC] + 1<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoPlainText style='text-align:justify'><b style='mso-bidi-font-weight:
normal'><o:p>&nbsp;</o:p></b></p>

<p class=MsoPlainText style='text-align:justify'>With this as guide we now
determine the values for all <span class=SpellE>datapath</span> control signals
(check the lecture on the <span class=SpellE>datapath</span> to recall what each
signal does):</p>

<p class=MsoPlainText style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoPlainText style='text-align:justify'><span class=SpellE>PCWrite</span>
= 1 <span style='font-family:Wingdings;mso-ascii-font-family:"Courier New";
mso-hansi-font-family:"Courier New";mso-char-type:symbol;mso-symbol-font-family:
Wingdings'><span style='mso-char-type:symbol;mso-symbol-font-family:Wingdings'>&agrave;</span></span>
since we do want to write PC + 1 into the PC</p>

<p class=MsoPlainText><span class=SpellE><b style='mso-bidi-font-weight:normal'>AddrSel</b></span><b
style='mso-bidi-font-weight:normal'> = 1</b> <span style='font-family:Wingdings;
mso-ascii-font-family:"Courier New";mso-hansi-font-family:"Courier New";
mso-char-type:symbol;mso-symbol-font-family:Wingdings'><span style='mso-char-type:
symbol;mso-symbol-font-family:Wingdings'>&agrave;</span></span> we want to use
the PC’s value to drive the address lines of memory</p>

<p class=MsoPlainText style='text-align:justify'><span class=SpellE>MemRead</span>
= 1 <span style='font-family:Wingdings;mso-ascii-font-family:"Courier New";
mso-hansi-font-family:"Courier New";mso-char-type:symbol;mso-symbol-font-family:
Wingdings'><span style='mso-char-type:symbol;mso-symbol-font-family:Wingdings'>&agrave;</span></span>
we want to read from memory</p>

<p class=MsoPlainText style='text-align:justify'><span class=SpellE>MemWrite</span>
= 0 <span style='font-family:Wingdings;mso-ascii-font-family:"Courier New";
mso-hansi-font-family:"Courier New";mso-char-type:symbol;mso-symbol-font-family:
Wingdings'><span style='mso-char-type:symbol;mso-symbol-font-family:Wingdings'>&agrave;</span></span>
we do not wish to write to memory</p>

<p class=MsoPlainText style='text-align:justify'><span class=SpellE>IRLoad</span>
= 1 <span style='font-family:Wingdings;mso-ascii-font-family:"Courier New";
mso-hansi-font-family:"Courier New";mso-char-type:symbol;mso-symbol-font-family:
Wingdings'><span style='mso-char-type:symbol;mso-symbol-font-family:Wingdings'>&agrave;</span></span>
we do want to write the value read from memory into IR</p>

<p class=MsoPlainText style='text-align:justify'>R1Sel = X <span
style='font-family:Wingdings;mso-ascii-font-family:"Courier New";mso-hansi-font-family:
"Courier New";mso-char-type:symbol;mso-symbol-font-family:Wingdings'><span
style='mso-char-type:symbol;mso-symbol-font-family:Wingdings'>&agrave;</span></span>
we do not care what gets read from the register file</p>

<p class=MsoPlainText style='text-align:justify'><span class=SpellE>MDRload</span>
= X <span style='font-family:Wingdings;mso-ascii-font-family:"Courier New";
mso-hansi-font-family:"Courier New";mso-char-type:symbol;mso-symbol-font-family:
Wingdings'><span style='mso-char-type:symbol;mso-symbol-font-family:Wingdings'>&agrave;</span></span>
we are not using MDR so it could change with no harm</p>

<p class=MsoPlainText style='text-align:justify'>R1R2Load = 0 <span
style='font-family:Wingdings;mso-ascii-font-family:"Courier New";mso-hansi-font-family:
"Courier New";mso-char-type:symbol;mso-symbol-font-family:Wingdings'><span
style='mso-char-type:symbol;mso-symbol-font-family:Wingdings'>&agrave;</span></span>
we do not wish to change register R1 and R2 (this signal is not listed on the <span
class=SpellE>datapath</span> diagram but it is connected to the temporary
registers R1 and R2 and controls whether they load the values read from the
register file. We could have used X here as it would have been safe to change
these registers now.</p>

<p class=MsoPlainText style='text-align:justify'>ALU1 = 0 <span
style='font-family:Wingdings;mso-ascii-font-family:"Courier New";mso-hansi-font-family:
"Courier New";mso-char-type:symbol;mso-symbol-font-family:Wingdings'><span
style='mso-char-type:symbol;mso-symbol-font-family:Wingdings'>&agrave;</span></span><span
style='mso-spacerun:yes'>  </span>we do care what is the first input to the ALU
as we want to calculate PC + 1.</p>

<p class=MsoPlainText style='text-align:justify'>ALU2 = 001 <span
style='font-family:Wingdings;mso-ascii-font-family:"Courier New";mso-hansi-font-family:
"Courier New";mso-char-type:symbol;mso-symbol-font-family:Wingdings'><span
style='mso-char-type:symbol;mso-symbol-font-family:Wingdings'>&agrave;</span></span>
we want the constant 1 as our second ALU input to calculate PC + 1.</p>

<p class=MsoPlainText style='text-align:justify'><span class=SpellE>ALUop</span>
= 000 <span style='font-family:Wingdings;mso-ascii-font-family:"Courier New";
mso-hansi-font-family:"Courier New";mso-char-type:symbol;mso-symbol-font-family:
Wingdings'><span style='mso-char-type:symbol;mso-symbol-font-family:Wingdings'>&agrave;</span></span>
we want to do addition</p>

<p class=MsoPlainText style='text-align:justify'><span class=SpellE>RFWrite</span>
= 0 <span style='font-family:Wingdings;mso-ascii-font-family:"Courier New";
mso-hansi-font-family:"Courier New";mso-char-type:symbol;mso-symbol-font-family:
Wingdings'><span style='mso-char-type:symbol;mso-symbol-font-family:Wingdings'>&agrave;</span></span>
we do not want to write into the register file. Note that this cannot be <span
class=GramE>X</span> since we do not wish to write and writes are irreversible.</p>

<p class=MsoPlainText style='text-align:justify'><span class=SpellE>RegIn</span>
= X <span style='font-family:Wingdings;mso-ascii-font-family:"Courier New";
mso-hansi-font-family:"Courier New";mso-char-type:symbol;mso-symbol-font-family:
Wingdings'><span style='mso-char-type:symbol;mso-symbol-font-family:Wingdings'>&agrave;</span></span>
we are not writing into the register file </p>

<p class=MsoPlainText style='text-align:justify'><span class=SpellE>ALUOutWrite</span>
= X <span style='font-family:Wingdings;mso-ascii-font-family:"Courier New";
mso-hansi-font-family:"Courier New";mso-char-type:symbol;mso-symbol-font-family:
Wingdings'><span style='mso-char-type:symbol;mso-symbol-font-family:Wingdings'>&agrave;</span></span>
we do not care if the temporary register <span class=SpellE>ALUOut</span> is
changed</p>

<p class=MsoPlainText><span class=SpellE>FlagWrite</span> = 0 <span
style='font-family:Wingdings;mso-ascii-font-family:"Courier New";mso-hansi-font-family:
"Courier New";mso-char-type:symbol;mso-symbol-font-family:Wingdings'><span
style='mso-char-type:symbol;mso-symbol-font-family:Wingdings'>&agrave;</span></span>
we need to retain the value of the flags</p>

<p class=MsoPlainText><o:p>&nbsp;</o:p></p>

<p class=MsoPlainText style='text-align:justify'><b style='mso-bidi-font-weight:
normal'><span style='font-size:12.0pt'>“CYCLE2”: </span></b><span
style='font-size:12.0pt'>Decoding the instruction and reading from the register
file<o:p></o:p></span></p>

<p class=MsoPlainText><o:p>&nbsp;</o:p></p>

<p class=MsoPlainText style='text-align:justify'>We have determined before that
the following actions take place during this state:</p>

<p class=MsoPlainText style='text-align:justify'><o:p>&nbsp;</o:p></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0 width=763
 style='width:572.15pt;border-collapse:collapse;border:none;mso-border-alt:
 solid windowtext .5pt;mso-yfti-tbllook:480;mso-padding-alt:0pt 5.4pt 0pt 5.4pt;
 mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=59 valign=top style='width:44.6pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'>CYCLE<o:p></o:p></span></p>
  </td>
  <td width=703 colspan=8 valign=top style='width:527.55pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:8.0pt'>Instruction
  Class<o:p></o:p></span></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=59 valign=top style='width:44.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=126 valign=top style='width:94.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:8.0pt'>ADD, SUB,
  NAND<o:p></o:p></span></b></p>
  </td>
  <td width=102 valign=top style='width:76.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:8.0pt'>SHIFT<o:p></o:p></span></b></p>
  </td>
  <td width=108 valign=top style='width:81.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:8.0pt'>ORI<o:p></o:p></span></b></p>
  </td>
  <td width=84 valign=top style='width:63.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:8.0pt'>LOAD<o:p></o:p></span></b></p>
  </td>
  <td width=60 valign=top style='width:45.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:8.0pt'>STORE<o:p></o:p></span></b></p>
  </td>
  <td width=66 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:8.0pt'>BP<o:p></o:p></span></b></p>
  </td>
  <td width=66 valign=top style='width:49.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:8.0pt'>BZ<o:p></o:p></span></b></p>
  </td>
  <td width=91 valign=top style='width:68.55pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:8.0pt'>BNZ<o:p></o:p></span></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2;mso-yfti-lastrow:yes'>
  <td width=59 valign=top style='width:44.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'>2<o:p></o:p></span></p>
  </td>
  <td width=703 colspan=8 valign=top style='width:527.55pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'>[R1] = <span class=GramE>RF[</span> [IR7..6] ]<o:p></o:p></span></p>
  <p class=MsoPlainText align=center style='text-align:center'><span
  style='font-size:8.0pt'>[R2] = <span class=GramE>RF[</span> [IR5..4] ]<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoPlainText style='text-align:justify'><b style='mso-bidi-font-weight:
normal'><o:p>&nbsp;</o:p></b></p>

<p class=MsoPlainText style='text-align:justify'>With this as guide we now
determine the values for all <span class=SpellE>datapath</span> control signals
(check the lecture on the <span class=SpellE>datapath</span> to recall what
each signal does):</p>

<p class=MsoPlainText style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoPlainText style='text-align:justify'><span class=SpellE>PCWrite</span>
= 0 <span style='font-family:Wingdings;mso-ascii-font-family:"Courier New";
mso-hansi-font-family:"Courier New";mso-char-type:symbol;mso-symbol-font-family:
Wingdings'><span style='mso-char-type:symbol;mso-symbol-font-family:Wingdings'>&agrave;</span></span>
since we do not want change the PC</p>

<p class=MsoPlainText style='text-align:justify'><span class=SpellE>AddrSel</span>
= X <span style='font-family:Wingdings;mso-ascii-font-family:"Courier New";
mso-hansi-font-family:"Courier New";mso-char-type:symbol;mso-symbol-font-family:
Wingdings'><span style='mso-char-type:symbol;mso-symbol-font-family:Wingdings'>&agrave;</span></span>
we will not be accessing memory, so any address is fine</p>

<p class=MsoPlainText style='text-align:justify'><span class=SpellE>MemRead</span>
= 0 <span style='font-family:Wingdings;mso-ascii-font-family:"Courier New";
mso-hansi-font-family:"Courier New";mso-char-type:symbol;mso-symbol-font-family:
Wingdings'><span style='mso-char-type:symbol;mso-symbol-font-family:Wingdings'>&agrave;</span></span>
we do not want to read from memory</p>

<p class=MsoPlainText style='text-align:justify'><span class=SpellE>MemWrite</span>
= 0 <span style='font-family:Wingdings;mso-ascii-font-family:"Courier New";
mso-hansi-font-family:"Courier New";mso-char-type:symbol;mso-symbol-font-family:
Wingdings'><span style='mso-char-type:symbol;mso-symbol-font-family:Wingdings'>&agrave;</span></span>
we do not wish to write to memory</p>

<p class=MsoPlainText style='text-align:justify'><span class=SpellE>IRLoad</span>
= 0 <span style='font-family:Wingdings;mso-ascii-font-family:"Courier New";
mso-hansi-font-family:"Courier New";mso-char-type:symbol;mso-symbol-font-family:
Wingdings'><span style='mso-char-type:symbol;mso-symbol-font-family:Wingdings'>&agrave;</span></span>
we do not want to change the IR</p>

<p class=MsoPlainText style='text-align:justify'>R1Sel = 0 <span
style='font-family:Wingdings;mso-ascii-font-family:"Courier New";mso-hansi-font-family:
"Courier New";mso-char-type:symbol;mso-symbol-font-family:Wingdings'><span
style='mso-char-type:symbol;mso-symbol-font-family:Wingdings'>&agrave;</span></span>
we do care what gets read from the register file, we want the R1 field from the
instruction stored in IR</p>

<p class=MsoPlainText style='text-align:justify'><span class=SpellE>MDRload</span>
= X <span style='font-family:Wingdings;mso-ascii-font-family:"Courier New";
mso-hansi-font-family:"Courier New";mso-char-type:symbol;mso-symbol-font-family:
Wingdings'><span style='mso-char-type:symbol;mso-symbol-font-family:Wingdings'>&agrave;</span></span>
we are not using MDR so it could change with no harm</p>

<p class=MsoPlainText style='text-align:justify'>R1R2Load = 1 <span
style='font-family:Wingdings;mso-ascii-font-family:"Courier New";mso-hansi-font-family:
"Courier New";mso-char-type:symbol;mso-symbol-font-family:Wingdings'><span
style='mso-char-type:symbol;mso-symbol-font-family:Wingdings'>&agrave;</span></span>
we do wish to change register R1 and R2 </p>

<p class=MsoPlainText style='text-align:justify'>ALU1 = X <span
style='font-family:Wingdings;mso-ascii-font-family:"Courier New";mso-hansi-font-family:
"Courier New";mso-char-type:symbol;mso-symbol-font-family:Wingdings'><span
style='mso-char-type:symbol;mso-symbol-font-family:Wingdings'>&agrave;</span></span><span
style='mso-spacerun:yes'>  </span><a name="OLE_LINK1"></a><a name="OLE_LINK2"><span
style='mso-bookmark:OLE_LINK1'>we do not care what is the first input to the
ALU.</span></a></p>

<p class=MsoPlainText style='text-align:justify'>ALU2 = XXX <span
style='font-family:Wingdings;mso-ascii-font-family:"Courier New";mso-hansi-font-family:
"Courier New";mso-char-type:symbol;mso-symbol-font-family:Wingdings'><span
style='mso-char-type:symbol;mso-symbol-font-family:Wingdings'>&agrave;</span></span>
we do not care what is the first input to the ALU.</p>

<p class=MsoPlainText style='text-align:justify'><span class=SpellE>ALUop</span>
= XXX <span style='font-family:Wingdings;mso-ascii-font-family:"Courier New";
mso-hansi-font-family:"Courier New";mso-char-type:symbol;mso-symbol-font-family:
Wingdings'><span style='mso-char-type:symbol;mso-symbol-font-family:Wingdings'>&agrave;</span></span>
we do not care what calculation the ALU does</p>

<p class=MsoPlainText style='text-align:justify'><span class=SpellE>RFWrite</span>
= 0 <span style='font-family:Wingdings;mso-ascii-font-family:"Courier New";
mso-hansi-font-family:"Courier New";mso-char-type:symbol;mso-symbol-font-family:
Wingdings'><span style='mso-char-type:symbol;mso-symbol-font-family:Wingdings'>&agrave;</span></span>
we do not want to write into the register file. </p>

<p class=MsoPlainText style='text-align:justify'><span class=SpellE>RegIn</span>
= X <span style='font-family:Wingdings;mso-ascii-font-family:"Courier New";
mso-hansi-font-family:"Courier New";mso-char-type:symbol;mso-symbol-font-family:
Wingdings'><span style='mso-char-type:symbol;mso-symbol-font-family:Wingdings'>&agrave;</span></span>
we are not writing into the register file </p>

<p class=MsoPlainText style='text-align:justify'><span class=SpellE>ALUOutWrite</span>
= X <span style='font-family:Wingdings;mso-ascii-font-family:"Courier New";
mso-hansi-font-family:"Courier New";mso-char-type:symbol;mso-symbol-font-family:
Wingdings'><span style='mso-char-type:symbol;mso-symbol-font-family:Wingdings'>&agrave;</span></span>
we do not care if the temporary register <span class=SpellE>ALUOut</span> is
changed</p>

<p class=MsoPlainText style='text-align:justify'><span class=SpellE>FlagWrite</span>
= 0 <span style='font-family:Wingdings;mso-ascii-font-family:"Courier New";
mso-hansi-font-family:"Courier New";mso-char-type:symbol;mso-symbol-font-family:
Wingdings'><span style='mso-char-type:symbol;mso-symbol-font-family:Wingdings'>&agrave;</span></span>
retain the flag values</p>

<p class=MsoPlainText style='text-align:justify'><o:p>&nbsp;</o:p></p>

<p class=MsoPlainText>Continuing along these lines we will end up with a
complete description of all <span class=SpellE>datapath</span> control signals
per state. We this information we can now have a complete finite state diagram
assuming a Moore-style implementation (<st1:City w:st="on"><st1:place w:st="on">Moore</st1:place></st1:City>
= outputs depend only on the current state value and not also on the inputs.
The latter style is called Mealy):</p>

<p class=MsoPlainText><o:p>&nbsp;</o:p></p>

<p class=MsoPlainText><!--[if gte vml 1]><v:shape id="_x0000_i1028" type="#_x0000_t75"
 style='width:10in;height:540pt'>
 <v:imagedata src="l21-multicycle-control_files/image007.gif" o:title="multicycle-control"/>
</v:shape><![endif]--><![if !vml]><img width=960 height=720
src="l21-multicycle-control_files/image007.gif" v:shapes="_x0000_i1028"><![endif]></p>

<p class=MsoPlainText><b style='mso-bidi-font-weight:normal'><o:p>&nbsp;</o:p></b></p>

<p class=MsoPlainText>This is the complete state transition diagram for our
control finite state machine. All that remains is assigning binary values to
states, writing the state transition table and then designing the circuit as we
would any other finite state machine.</p>

<p class=MsoPlainText><o:p>&nbsp;</o:p></p>

<p class=MsoPlainText>In total there are 14 states. Thus we need a four bit
number to represent each state.</p>

<p class=MsoPlainText><o:p>&nbsp;</o:p></p>

<p class=MsoPlainText>The state transition table will have the current state
and instruction <span class=SpellE>opcode</span> as inputs. As outputs it will
have the next state and the values that the control signals take during that
state (signals listed inside the states in the previous diagram).</p>

<p class=MsoPlainText><o:p>&nbsp;</o:p></p>

<p class=MsoPlainText>The control will look as follows:</p>

<p class=MsoPlainText><!--[if gte vml 1]><v:shape id="_x0000_i1026" type="#_x0000_t75"
 style='width:354.75pt;height:228.75pt'>
 <v:imagedata src="l21-multicycle-control_files/image004.gif" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=473 height=305
src="l21-multicycle-control_files/image004.gif" v:shapes="_x0000_i1026"><![endif]></p>

<p class=MsoPlainText><o:p>&nbsp;</o:p></p>

<p class=MsoPlainText>It accepts the IR3<span class=GramE>..</span>0 signals
from the <span class=SpellE>datapath</span> (from the IR register) and the
current state as this is encoded in four flip-flops. Every cycle it produces
values for the control signals which are sent to the <span class=SpellE>datapath</span>.
The <span class=SpellE>PCWrite</span> signal also needs to take into account
the values of N and Z. This is why an additional combinatorial circuit is
needed. We could have provided different states for each branch depending on
the values of Z and N. </p>

<p class=MsoPlainText><o:p>&nbsp;</o:p></p>

<p class=MsoPlainText>Here’s the state transition table (it includes only the
next state and not the control signals as the latter do not depend on the
transitions but only on the current state):</p>

<p class=MsoPlainText><b style='mso-bidi-font-weight:normal'><o:p>&nbsp;</o:p></b></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:480;mso-padding-alt:0pt 5.4pt 0pt 5.4pt;mso-border-insideh:
 .5pt solid windowtext;mso-border-insidev:.5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=419 colspan=2 valign=top style='width:314.6pt;border:solid windowtext 1.0pt;
  border-right:double windowtext 1.5pt;mso-border-alt:solid windowtext .5pt;
  mso-border-right-alt:double windowtext 1.5pt;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText><b style='mso-bidi-font-weight:normal'>INPUTS<o:p></o:p></b></p>
  </td>
  <td width=316 valign=top style='width:237.2pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:double windowtext 1.5pt;mso-border-alt:
  solid windowtext .5pt;mso-border-left-alt:double windowtext 1.5pt;padding:
  0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText><b style='mso-bidi-font-weight:normal'>OUTPUT<o:p></o:p></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=299 valign=top style='width:224.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText><st1:place w:st="on"><st1:PlaceName w:st="on"><b
    style='mso-bidi-font-weight:normal'>CURRENT</b></st1:PlaceName><b
   style='mso-bidi-font-weight:normal'> <st1:PlaceType w:st="on">STATE</st1:PlaceType></b></st1:place><b
  style='mso-bidi-font-weight:normal'><o:p></o:p></b></p>
  </td>
  <td width=120 valign=top style='width:90.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:double windowtext 1.5pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;mso-border-right-alt:double windowtext 1.5pt;
  padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText><b style='mso-bidi-font-weight:normal'>IR3<span
  class=GramE>..</span>0<o:p></o:p></b></p>
  </td>
  <td width=316 valign=top style='width:237.2pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:double windowtext 1.5pt;
  mso-border-alt:solid windowtext .5pt;mso-border-left-alt:double windowtext 1.5pt;
  padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText><st1:place w:st="on"><st1:PlaceName w:st="on"><b
    style='mso-bidi-font-weight:normal'>NEXT</b></st1:PlaceName><b
   style='mso-bidi-font-weight:normal'> <st1:PlaceType w:st="on">STATE</st1:PlaceType></b></st1:place><b
  style='mso-bidi-font-weight:normal'><o:p></o:p></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=299 valign=top style='width:224.6pt;border-top:none;border-left:
  solid windowtext 1.0pt;border-bottom:double windowtext 1.5pt;border-right:
  solid windowtext 1.0pt;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;mso-border-bottom-alt:double windowtext 1.5pt;
  background:#99CC00;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>0000 (Cycle 1)</p>
  </td>
  <td width=120 valign=top style='width:90.0pt;border-top:none;border-left:
  none;border-bottom:double windowtext 1.5pt;border-right:double windowtext 1.5pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  background:#99CC00;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>XXXX</p>
  </td>
  <td width=316 valign=top style='width:237.2pt;border-top:none;border-left:
  none;border-bottom:double windowtext 1.5pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:double windowtext 1.5pt;
  mso-border-top-alt:solid .5pt;mso-border-left-alt:double 1.5pt;mso-border-bottom-alt:
  double 1.5pt;mso-border-right-alt:solid .5pt;mso-border-color-alt:windowtext;
  background:#99CC00;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>0001</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=299 valign=top style='width:224.6pt;border-top:none;border-left:
  solid windowtext 1.0pt;border-bottom:double windowtext 1.5pt;border-right:
  solid windowtext 1.0pt;mso-border-top-alt:double windowtext 1.5pt;mso-border-top-alt:
  double 1.5pt;mso-border-left-alt:solid .5pt;mso-border-bottom-alt:double 1.5pt;
  mso-border-right-alt:solid .5pt;mso-border-color-alt:windowtext;background:
  #FFFF99;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>0001 (Cycle 2)</p>
  </td>
  <td width=120 valign=top style='width:90.0pt;border-top:none;border-left:
  none;border-bottom:double windowtext 1.5pt;border-right:double windowtext 1.5pt;
  mso-border-top-alt:double windowtext 1.5pt;mso-border-left-alt:solid windowtext .5pt;
  background:#FFFF99;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>0000 (load)</p>
  </td>
  <td width=316 valign=top style='width:237.2pt;border-top:none;border-left:
  none;border-bottom:double windowtext 1.5pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:double windowtext 1.5pt;mso-border-left-alt:double windowtext 1.5pt;
  mso-border-alt:double windowtext 1.5pt;mso-border-right-alt:solid windowtext .5pt;
  background:#FFFF99;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>0101 (load cycle 3)</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width=299 valign=top style='width:224.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:double windowtext 1.5pt;mso-border-alt:
  solid windowtext .5pt;mso-border-top-alt:double windowtext 1.5pt;background:
  #FFFF99;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>0001 </p>
  </td>
  <td width=120 valign=top style='width:90.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:double windowtext 1.5pt;
  mso-border-top-alt:double windowtext 1.5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-top-alt:double 1.5pt;mso-border-left-alt:solid .5pt;mso-border-bottom-alt:
  solid .5pt;mso-border-right-alt:double 1.5pt;mso-border-color-alt:windowtext;
  background:#FFFF99;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>0001 (store)</p>
  </td>
  <td width=316 valign=top style='width:237.2pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:double windowtext 1.5pt;mso-border-left-alt:double windowtext 1.5pt;
  mso-border-top-alt:double 1.5pt;mso-border-left-alt:double 1.5pt;mso-border-bottom-alt:
  solid .5pt;mso-border-right-alt:solid .5pt;mso-border-color-alt:windowtext;
  background:#FFFF99;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>0110 (store cycle 3)</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5'>
  <td width=299 valign=top style='width:224.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  background:#FFFF99;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>0001</p>
  </td>
  <td width=120 valign=top style='width:90.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:double windowtext 1.5pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;mso-border-right-alt:double windowtext 1.5pt;
  background:#FFFF99;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>0100 (add)</p>
  </td>
  <td width=316 valign=top style='width:237.2pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:double windowtext 1.5pt;
  mso-border-alt:solid windowtext .5pt;mso-border-left-alt:double windowtext 1.5pt;
  background:#FFFF99;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>0010 (add/sub/<span class=SpellE>nand</span> cycle 3)</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:6'>
  <td width=299 valign=top style='width:224.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  background:#FFFF99;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>0001</p>
  </td>
  <td width=120 valign=top style='width:90.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:double windowtext 1.5pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;mso-border-right-alt:double windowtext 1.5pt;
  background:#FFFF99;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>0110 (sub)</p>
  </td>
  <td width=316 valign=top style='width:237.2pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:double windowtext 1.5pt;
  mso-border-alt:solid windowtext .5pt;mso-border-left-alt:double windowtext 1.5pt;
  background:#FFFF99;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>0010</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:7'>
  <td width=299 valign=top style='width:224.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  background:#FFFF99;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>0001</p>
  </td>
  <td width=120 valign=top style='width:90.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:double windowtext 1.5pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;mso-border-right-alt:double windowtext 1.5pt;
  background:#FFFF99;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>1000 (<span class=SpellE>nand</span>)</p>
  </td>
  <td width=316 valign=top style='width:237.2pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:double windowtext 1.5pt;
  mso-border-alt:solid windowtext .5pt;mso-border-left-alt:double windowtext 1.5pt;
  background:#FFFF99;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>0010</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:8'>
  <td width=299 valign=top style='width:224.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  background:#FFFF99;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>0001</p>
  </td>
  <td width=120 valign=top style='width:90.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:double windowtext 1.5pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;mso-border-right-alt:double windowtext 1.5pt;
  background:#FFFF99;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>X111 (<span class=SpellE>ori</span>)</p>
  </td>
  <td width=316 valign=top style='width:237.2pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:double windowtext 1.5pt;
  mso-border-alt:solid windowtext .5pt;mso-border-left-alt:double windowtext 1.5pt;
  background:#FFFF99;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>0100 (<span class=SpellE>ori</span> cycle 3)</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:9'>
  <td width=299 valign=top style='width:224.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  background:#FFFF99;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>0001</p>
  </td>
  <td width=120 valign=top style='width:90.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:double windowtext 1.5pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;mso-border-right-alt:double windowtext 1.5pt;
  background:#FFFF99;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>X011 (shift)</p>
  </td>
  <td width=316 valign=top style='width:237.2pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:double windowtext 1.5pt;
  mso-border-alt:solid windowtext .5pt;mso-border-left-alt:double windowtext 1.5pt;
  background:#FFFF99;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>0011 (shift cycle 3)</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:10'>
  <td width=299 valign=top style='width:224.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  background:#FFFF99;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>0001</p>
  </td>
  <td width=120 valign=top style='width:90.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:double windowtext 1.5pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;mso-border-right-alt:double windowtext 1.5pt;
  background:#FFFF99;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>0101 (<span class=SpellE>bz</span>)</p>
  </td>
  <td width=316 valign=top style='width:237.2pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:double windowtext 1.5pt;
  mso-border-alt:solid windowtext .5pt;mso-border-left-alt:double windowtext 1.5pt;
  background:#FFFF99;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>1000 (<span class=SpellE>bz</span> cycle 3)</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:11'>
  <td width=299 valign=top style='width:224.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  background:#FFFF99;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>0001</p>
  </td>
  <td width=120 valign=top style='width:90.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:double windowtext 1.5pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;mso-border-right-alt:double windowtext 1.5pt;
  background:#FFFF99;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>1001 (<span class=SpellE>bnz</span>)</p>
  </td>
  <td width=316 valign=top style='width:237.2pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:double windowtext 1.5pt;
  mso-border-alt:solid windowtext .5pt;mso-border-left-alt:double windowtext 1.5pt;
  background:#FFFF99;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>1001 (<span class=SpellE>bnz</span> cycle 3)</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:12'>
  <td width=299 valign=top style='width:224.6pt;border-top:none;border-left:
  solid windowtext 1.0pt;border-bottom:double windowtext 1.5pt;border-right:
  solid windowtext 1.0pt;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;mso-border-bottom-alt:double windowtext 1.5pt;
  background:#FFFF99;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>0001</p>
  </td>
  <td width=120 valign=top style='width:90.0pt;border-top:none;border-left:
  none;border-bottom:double windowtext 1.5pt;border-right:double windowtext 1.5pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  background:#FFFF99;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>1101 (<span class=SpellE>bpz</span>)</p>
  </td>
  <td width=316 valign=top style='width:237.2pt;border-top:none;border-left:
  none;border-bottom:double windowtext 1.5pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:double windowtext 1.5pt;
  mso-border-top-alt:solid .5pt;mso-border-left-alt:double 1.5pt;mso-border-bottom-alt:
  double 1.5pt;mso-border-right-alt:solid .5pt;mso-border-color-alt:windowtext;
  background:#FFFF99;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>0111 (<span class=SpellE>bpz</span> cycle 3)</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:13'>
  <td width=299 valign=top style='width:224.6pt;border-top:none;border-left:
  solid windowtext 1.0pt;border-bottom:double windowtext 1.5pt;border-right:
  solid windowtext 1.0pt;mso-border-top-alt:double windowtext 1.5pt;mso-border-top-alt:
  double 1.5pt;mso-border-left-alt:solid .5pt;mso-border-bottom-alt:double 1.5pt;
  mso-border-right-alt:solid .5pt;mso-border-color-alt:windowtext;background:
  #99CCFF;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>0010 (add/sub/<span class=SpellE>nand</span> cycle 3)</p>
  </td>
  <td width=120 valign=top style='width:90.0pt;border-top:none;border-left:
  none;border-bottom:double windowtext 1.5pt;border-right:double windowtext 1.5pt;
  mso-border-top-alt:double windowtext 1.5pt;mso-border-left-alt:solid windowtext .5pt;
  background:#99CCFF;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>XXXX </p>
  </td>
  <td width=316 valign=top style='width:237.2pt;border-top:none;border-left:
  none;border-bottom:double windowtext 1.5pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:double windowtext 1.5pt;mso-border-left-alt:double windowtext 1.5pt;
  mso-border-alt:double windowtext 1.5pt;mso-border-right-alt:solid windowtext .5pt;
  background:#99CCFF;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>1010 (add/sub/<span class=SpellE>nand</span>/shift
  cycle 4)</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:14'>
  <td width=299 valign=top style='width:224.6pt;border-top:none;border-left:
  solid windowtext 1.0pt;border-bottom:double windowtext 1.5pt;border-right:
  solid windowtext 1.0pt;mso-border-top-alt:double windowtext 1.5pt;mso-border-top-alt:
  double 1.5pt;mso-border-left-alt:solid .5pt;mso-border-bottom-alt:double 1.5pt;
  mso-border-right-alt:solid .5pt;mso-border-color-alt:windowtext;background:
  #99CCFF;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>0011 (shift cycle 3)</p>
  </td>
  <td width=120 valign=top style='width:90.0pt;border-top:none;border-left:
  none;border-bottom:double windowtext 1.5pt;border-right:double windowtext 1.5pt;
  mso-border-top-alt:double windowtext 1.5pt;mso-border-left-alt:solid windowtext .5pt;
  background:#99CCFF;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>XXXX</p>
  </td>
  <td width=316 valign=top style='width:237.2pt;border-top:none;border-left:
  none;border-bottom:double windowtext 1.5pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:double windowtext 1.5pt;mso-border-left-alt:double windowtext 1.5pt;
  mso-border-alt:double windowtext 1.5pt;mso-border-right-alt:solid windowtext .5pt;
  background:#99CCFF;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>1010 (add/sub/<span class=SpellE>nand</span>/shift
  cycle 4)</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:15'>
  <td width=299 valign=top style='width:224.6pt;border-top:none;border-left:
  solid windowtext 1.0pt;border-bottom:double windowtext 1.5pt;border-right:
  solid windowtext 1.0pt;mso-border-top-alt:double windowtext 1.5pt;mso-border-top-alt:
  double 1.5pt;mso-border-left-alt:solid .5pt;mso-border-bottom-alt:double 1.5pt;
  mso-border-right-alt:solid .5pt;mso-border-color-alt:windowtext;background:
  #99CCFF;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>0100 (<span class=SpellE>ori</span> cycle 3)</p>
  </td>
  <td width=120 valign=top style='width:90.0pt;border-top:none;border-left:
  none;border-bottom:double windowtext 1.5pt;border-right:double windowtext 1.5pt;
  mso-border-top-alt:double windowtext 1.5pt;mso-border-left-alt:solid windowtext .5pt;
  background:#99CCFF;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>XXXX</p>
  </td>
  <td width=316 valign=top style='width:237.2pt;border-top:none;border-left:
  none;border-bottom:double windowtext 1.5pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:double windowtext 1.5pt;mso-border-left-alt:double windowtext 1.5pt;
  mso-border-alt:double windowtext 1.5pt;mso-border-right-alt:solid windowtext .5pt;
  background:#99CCFF;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>1011 (<span class=SpellE>ori</span> cycle 4)</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:16'>
  <td width=299 valign=top style='width:224.6pt;border-top:none;border-left:
  solid windowtext 1.0pt;border-bottom:double windowtext 1.5pt;border-right:
  solid windowtext 1.0pt;mso-border-top-alt:double windowtext 1.5pt;mso-border-top-alt:
  double 1.5pt;mso-border-left-alt:solid .5pt;mso-border-bottom-alt:double 1.5pt;
  mso-border-right-alt:solid .5pt;mso-border-color-alt:windowtext;background:
  #99CCFF;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>0101 (load cycle 3)</p>
  </td>
  <td width=120 valign=top style='width:90.0pt;border-top:none;border-left:
  none;border-bottom:double windowtext 1.5pt;border-right:double windowtext 1.5pt;
  mso-border-top-alt:double windowtext 1.5pt;mso-border-left-alt:solid windowtext .5pt;
  background:#99CCFF;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>XXXX</p>
  </td>
  <td width=316 valign=top style='width:237.2pt;border-top:none;border-left:
  none;border-bottom:double windowtext 1.5pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:double windowtext 1.5pt;mso-border-left-alt:double windowtext 1.5pt;
  mso-border-alt:double windowtext 1.5pt;mso-border-right-alt:solid windowtext .5pt;
  background:#99CCFF;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>1100 (load cycle 4)</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:17'>
  <td width=299 valign=top style='width:224.6pt;border-top:none;border-left:
  solid windowtext 1.0pt;border-bottom:double windowtext 1.5pt;border-right:
  solid windowtext 1.0pt;mso-border-top-alt:double windowtext 1.5pt;mso-border-top-alt:
  double 1.5pt;mso-border-left-alt:solid .5pt;mso-border-bottom-alt:double 1.5pt;
  mso-border-right-alt:solid .5pt;mso-border-color-alt:windowtext;background:
  #99CCFF;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>0110 (store cycle 3)</p>
  </td>
  <td width=120 valign=top style='width:90.0pt;border-top:none;border-left:
  none;border-bottom:double windowtext 1.5pt;border-right:double windowtext 1.5pt;
  mso-border-top-alt:double windowtext 1.5pt;mso-border-left-alt:solid windowtext .5pt;
  background:#99CCFF;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>XXXX</p>
  </td>
  <td width=316 valign=top style='width:237.2pt;border-top:none;border-left:
  none;border-bottom:double windowtext 1.5pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:double windowtext 1.5pt;mso-border-left-alt:double windowtext 1.5pt;
  mso-border-alt:double windowtext 1.5pt;mso-border-right-alt:solid windowtext .5pt;
  background:#99CCFF;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>0000 (next instruction)</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:18'>
  <td width=299 valign=top style='width:224.6pt;border-top:none;border-left:
  solid windowtext 1.0pt;border-bottom:double windowtext 1.5pt;border-right:
  solid windowtext 1.0pt;mso-border-top-alt:double windowtext 1.5pt;mso-border-top-alt:
  double 1.5pt;mso-border-left-alt:solid .5pt;mso-border-bottom-alt:double 1.5pt;
  mso-border-right-alt:solid .5pt;mso-border-color-alt:windowtext;background:
  #99CCFF;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>0111 (<span class=SpellE>bp</span> cycle 3)</p>
  </td>
  <td width=120 valign=top style='width:90.0pt;border-top:none;border-left:
  none;border-bottom:double windowtext 1.5pt;border-right:double windowtext 1.5pt;
  mso-border-top-alt:double windowtext 1.5pt;mso-border-left-alt:solid windowtext .5pt;
  background:#99CCFF;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>XXXX</p>
  </td>
  <td width=316 valign=top style='width:237.2pt;border-top:none;border-left:
  none;border-bottom:double windowtext 1.5pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:double windowtext 1.5pt;mso-border-left-alt:double windowtext 1.5pt;
  mso-border-alt:double windowtext 1.5pt;mso-border-right-alt:solid windowtext .5pt;
  background:#99CCFF;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>0000</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:19'>
  <td width=299 valign=top style='width:224.6pt;border-top:none;border-left:
  solid windowtext 1.0pt;border-bottom:double windowtext 1.5pt;border-right:
  solid windowtext 1.0pt;mso-border-top-alt:double windowtext 1.5pt;mso-border-top-alt:
  double 1.5pt;mso-border-left-alt:solid .5pt;mso-border-bottom-alt:double 1.5pt;
  mso-border-right-alt:solid .5pt;mso-border-color-alt:windowtext;background:
  #99CCFF;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>1000 (<span class=SpellE>bz</span> cycle 3)</p>
  </td>
  <td width=120 valign=top style='width:90.0pt;border-top:none;border-left:
  none;border-bottom:double windowtext 1.5pt;border-right:double windowtext 1.5pt;
  mso-border-top-alt:double windowtext 1.5pt;mso-border-left-alt:solid windowtext .5pt;
  background:#99CCFF;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>XXXX</p>
  </td>
  <td width=316 valign=top style='width:237.2pt;border-top:none;border-left:
  none;border-bottom:double windowtext 1.5pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:double windowtext 1.5pt;mso-border-left-alt:double windowtext 1.5pt;
  mso-border-alt:double windowtext 1.5pt;mso-border-right-alt:solid windowtext .5pt;
  background:#99CCFF;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>0000</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:20'>
  <td width=299 valign=top style='width:224.6pt;border-top:none;border-left:
  solid windowtext 1.0pt;border-bottom:double windowtext 1.5pt;border-right:
  solid windowtext 1.0pt;mso-border-top-alt:double windowtext 1.5pt;mso-border-top-alt:
  double 1.5pt;mso-border-left-alt:solid .5pt;mso-border-bottom-alt:double 1.5pt;
  mso-border-right-alt:solid .5pt;mso-border-color-alt:windowtext;background:
  #99CCFF;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>1001 (<span class=SpellE>bnz</span> cycle 3)</p>
  </td>
  <td width=120 valign=top style='width:90.0pt;border-top:none;border-left:
  none;border-bottom:double windowtext 1.5pt;border-right:double windowtext 1.5pt;
  mso-border-top-alt:double windowtext 1.5pt;mso-border-left-alt:solid windowtext .5pt;
  background:#99CCFF;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>XXXX</p>
  </td>
  <td width=316 valign=top style='width:237.2pt;border-top:none;border-left:
  none;border-bottom:double windowtext 1.5pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:double windowtext 1.5pt;mso-border-left-alt:double windowtext 1.5pt;
  mso-border-alt:double windowtext 1.5pt;mso-border-right-alt:solid windowtext .5pt;
  background:#99CCFF;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>0000</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:21'>
  <td width=299 valign=top style='width:224.6pt;border-top:none;border-left:
  solid windowtext 1.0pt;border-bottom:double windowtext 1.5pt;border-right:
  solid windowtext 1.0pt;mso-border-top-alt:double windowtext 1.5pt;mso-border-top-alt:
  double 1.5pt;mso-border-left-alt:solid .5pt;mso-border-bottom-alt:double 1.5pt;
  mso-border-right-alt:solid .5pt;mso-border-color-alt:windowtext;background:
  #FF6600;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>1010 (add/sub/<span class=SpellE>nand</span>/shift
  cycle 4)</p>
  </td>
  <td width=120 valign=top style='width:90.0pt;border-top:none;border-left:
  none;border-bottom:double windowtext 1.5pt;border-right:double windowtext 1.5pt;
  mso-border-top-alt:double windowtext 1.5pt;mso-border-left-alt:solid windowtext .5pt;
  background:#FF6600;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>XXXX</p>
  </td>
  <td width=316 valign=top style='width:237.2pt;border-top:none;border-left:
  none;border-bottom:double windowtext 1.5pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:double windowtext 1.5pt;mso-border-left-alt:double windowtext 1.5pt;
  mso-border-alt:double windowtext 1.5pt;mso-border-right-alt:solid windowtext .5pt;
  background:#FF6600;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>0000</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:22'>
  <td width=299 valign=top style='width:224.6pt;border-top:none;border-left:
  solid windowtext 1.0pt;border-bottom:double windowtext 1.5pt;border-right:
  solid windowtext 1.0pt;mso-border-top-alt:double windowtext 1.5pt;mso-border-top-alt:
  double 1.5pt;mso-border-left-alt:solid .5pt;mso-border-bottom-alt:double 1.5pt;
  mso-border-right-alt:solid .5pt;mso-border-color-alt:windowtext;background:
  #FF6600;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>1011 (<span class=SpellE>ori</span> cycle 4)</p>
  </td>
  <td width=120 valign=top style='width:90.0pt;border-top:none;border-left:
  none;border-bottom:double windowtext 1.5pt;border-right:double windowtext 1.5pt;
  mso-border-top-alt:double windowtext 1.5pt;mso-border-left-alt:solid windowtext .5pt;
  background:#FF6600;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>XXXX</p>
  </td>
  <td width=316 valign=top style='width:237.2pt;border-top:none;border-left:
  none;border-bottom:double windowtext 1.5pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:double windowtext 1.5pt;mso-border-left-alt:double windowtext 1.5pt;
  mso-border-alt:double windowtext 1.5pt;mso-border-right-alt:solid windowtext .5pt;
  background:#FF6600;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>1100 (<span class=SpellE>ori</span> cycle 5)</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:23'>
  <td width=299 valign=top style='width:224.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:double windowtext 1.5pt;mso-border-alt:
  solid windowtext .5pt;mso-border-top-alt:double windowtext 1.5pt;background:
  #FF6600;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>1100 (load cycle 4)</p>
  </td>
  <td width=120 valign=top style='width:90.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:double windowtext 1.5pt;
  mso-border-top-alt:double windowtext 1.5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-top-alt:double 1.5pt;mso-border-left-alt:solid .5pt;mso-border-bottom-alt:
  solid .5pt;mso-border-right-alt:double 1.5pt;mso-border-color-alt:windowtext;
  background:#FF6600;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>XXXX</p>
  </td>
  <td width=316 valign=top style='width:237.2pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:double windowtext 1.5pt;mso-border-left-alt:double windowtext 1.5pt;
  mso-border-top-alt:double 1.5pt;mso-border-left-alt:double 1.5pt;mso-border-bottom-alt:
  solid .5pt;mso-border-right-alt:solid .5pt;mso-border-color-alt:windowtext;
  background:#FF6600;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>0000</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:24'>
  <td width=299 valign=top style='width:224.6pt;border-top:none;border-left:
  solid windowtext 1.0pt;border-bottom:double windowtext 1.5pt;border-right:
  solid windowtext 1.0pt;mso-border-top-alt:double windowtext 1.5pt;mso-border-top-alt:
  double 1.5pt;mso-border-left-alt:solid .5pt;mso-border-bottom-alt:double 1.5pt;
  mso-border-right-alt:solid .5pt;mso-border-color-alt:windowtext;background:
  #CCCCCC;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>1101 (<span class=SpellE>ori</span> cycle 5)</p>
  </td>
  <td width=120 valign=top style='width:90.0pt;border-top:none;border-left:
  none;border-bottom:double windowtext 1.5pt;border-right:double windowtext 1.5pt;
  mso-border-top-alt:double windowtext 1.5pt;mso-border-left-alt:solid windowtext .5pt;
  background:#CCCCCC;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>XXXX</p>
  </td>
  <td width=316 valign=top style='width:237.2pt;border-top:none;border-left:
  none;border-bottom:double windowtext 1.5pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:double windowtext 1.5pt;mso-border-left-alt:double windowtext 1.5pt;
  mso-border-alt:double windowtext 1.5pt;mso-border-right-alt:solid windowtext .5pt;
  background:#CCCCCC;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>0000</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:25'>
  <td width=299 valign=top style='width:224.6pt;border-top:none;border-left:
  solid windowtext 1.0pt;border-bottom:double windowtext 1.5pt;border-right:
  solid windowtext 1.0pt;mso-border-top-alt:double windowtext 1.5pt;mso-border-top-alt:
  double 1.5pt;mso-border-left-alt:solid .5pt;mso-border-bottom-alt:double 1.5pt;
  mso-border-right-alt:solid .5pt;mso-border-color-alt:windowtext;padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>1110 (unused)</p>
  </td>
  <td width=120 valign=top style='width:90.0pt;border-top:none;border-left:
  none;border-bottom:double windowtext 1.5pt;border-right:double windowtext 1.5pt;
  mso-border-top-alt:double windowtext 1.5pt;mso-border-left-alt:solid windowtext .5pt;
  padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>XXXX</p>
  </td>
  <td width=316 valign=top style='width:237.2pt;border-top:none;border-left:
  none;border-bottom:double windowtext 1.5pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:double windowtext 1.5pt;mso-border-left-alt:double windowtext 1.5pt;
  mso-border-alt:double windowtext 1.5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>0000 (go to state 0)</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:26;mso-yfti-lastrow:yes'>
  <td width=299 valign=top style='width:224.6pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-top-alt:double windowtext 1.5pt;mso-border-alt:
  solid windowtext .5pt;mso-border-top-alt:double windowtext 1.5pt;padding:
  0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>1111 (unused)</p>
  </td>
  <td width=120 valign=top style='width:90.0pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:double windowtext 1.5pt;
  mso-border-top-alt:double windowtext 1.5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-top-alt:double 1.5pt;mso-border-left-alt:solid .5pt;mso-border-bottom-alt:
  solid .5pt;mso-border-right-alt:double 1.5pt;mso-border-color-alt:windowtext;
  padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>XXXX</p>
  </td>
  <td width=316 valign=top style='width:237.2pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:double windowtext 1.5pt;mso-border-left-alt:double windowtext 1.5pt;
  mso-border-top-alt:double 1.5pt;mso-border-left-alt:double 1.5pt;mso-border-bottom-alt:
  solid .5pt;mso-border-right-alt:solid .5pt;mso-border-color-alt:windowtext;
  padding:0pt 5.4pt 0pt 5.4pt'>
  <p class=MsoPlainText>0000</p>
  </td>
 </tr>
</table>

<p class=MsoPlainText><o:p>&nbsp;</o:p></p>

<p class=MsoPlainText>Where we used the following encoding of states:</p>

<p class=MsoPlainText><!--[if gte vml 1]><v:shape id="_x0000_i1027" type="#_x0000_t75"
 style='width:431.25pt;height:323.25pt'>
 <v:imagedata src="l21-multicycle-control_files/image005.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=575 height=431
src="l21-multicycle-control_files/image006.jpg" v:shapes="_x0000_i1027"><![endif]></p>

<p class=MsoPlainText>This finite state machine can be designed with the
methodologies described during the digital design course. We have to pick a flip-flop
(D, J-K, RS or T) and then derive the functions that will drive the flip-flop
inputs so that the specified transitions will happen.</p>

<p class=MsoPlainText><o:p>&nbsp;</o:p></p>

<p class=MsoPlainText>In order to design the circuit that generates the control
signals we will have to draw the truth table. The input here will be the
current state (and the Z and N bits) and the outputs are those specified in the
state diagram that we presented earlier. So, our truth table will have a single
line per state and Z/N combination and as outputs will list all control signals.</p>

<p class=MsoPlainText>After this table is filled in designing the corresponding
circuit is straightforward. This is combinatorial circuit hence the
methodologies you learned during the digital design course apply.</p>

<p class=MsoPlainText><o:p>&nbsp;</o:p></p>

</div>

</body>

</html>
